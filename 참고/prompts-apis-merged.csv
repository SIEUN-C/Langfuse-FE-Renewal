분류,API 이름,Method,Path,요청 데이터(입력),응답 데이터(출력),권한/제약,에러 코드/상황,비고
공통(소스+F12),hasAny,GET,/prompts/hasAny,{ projectId },true | false,prompts:read,401/403,
공통(소스+F12),목록(all),GET,/prompts,"{ projectId, filter[], orderBy, limit, page, pathPrefix?, searchQuery?, searchType? }","{ prompts:[], totalCount }",prompts:read,"400(잘못된 limit), 401/403",tRPC: prompts.all
공통(소스+F12),총계(count),GET,/prompts/count,"{ projectId, searchQuery?, searchType?, pathPrefix?, filter? }",{ totalCount:number },prompts:read,401/403,tRPC: prompts.count
공통(소스+F12),메트릭(metrics),GET,/prompts/metrics,"{ projectId, promptNames[] }","[ { promptName, observationCount } ]",prompts:read,401/403,tRPC: prompts.metrics
공통(소스+F12),필터 옵션,GET,/prompts/filter-options,{ projectId },"{ name: string[], labels: string[], tags: string[] }",prompts:read,401/403,tRPC: prompts.filterOptions
공통(소스+F12),라벨 전체,GET,/prompts/labels,{ projectId },string[],prompts:read,401/403,tRPC: prompts.allLabels (내부별칭 /internal/prompts/all-labels 가능)
공통(소스+F12),이름 전체,GET,/prompts/names,"{ projectId, type? }","[ { id, name } ]",prompts:read,401/403,tRPC: prompts.allNames
공통(소스+F12),링크 옵션,GET,/prompts/link-options,{ projectId },"[ { name, versions[], labels[] } ]",prompts:read,401/403,tRPC: prompts.getPromptLinkOptions
공통(소스+F12),생성(create),POST,/prompts,"{ projectId, name, type(""text"" | ""chat""), prompt(string | chat[]), config?, labels?, tags?, variables?, note?, metadata?, commitMessage? }",Prompt(새 버전),prompts:CUD (+ 보호라벨 시 promptProtectedLabels:CUD),,
공통(소스+F12),복제(duplicate),POST,/prompts/:id/duplicate,"{ projectId, promptId, name, isSingleVersion }",Prompt,prompts:CUD,"404(대상 없음), 400(이름 중복)",tRPC: prompts.duplicatePrompt (F12: /api/trpc/prompts.duplicatePrompt)
공통(소스+F12),삭제(delete),DELETE,/prompts?name=...,"{ projectId, promptName }",{} 또는 { success:true },prompts:CUD (+ 보호라벨 검증),"403(보호라벨), 409(참조중)",F12에선 주로 tRPC 호출
공통(소스+F12),버전 삭제,DELETE,/prompts/versions/:id,"{ projectId, promptVersionId }",{} 또는 { success:true },prompts:CUD,"404, 403(보호라벨), 409(참조중)",tRPC: prompts.deleteVersion (F12에선 POST)
공통(소스+F12),라벨 치환,PUT,/prompts/:promptId/labels,"{ projectId, promptId, labels[] }",{},prompts:CUD + 보호라벨 권한,"404, 403, 409(참조중)",tRPC: prompts.setLabels (치환)
공통(소스+F12),태그 교체,PATCH,/prompts/:name/tags,"{ projectId, name, tags[] }",{},(예: objects:tag),-,tRPC: prompts.updateTags (모든 버전에 동일 태그)
공통(소스+F12),버전 목록,GET,/prompts/{name}/versions,"{ projectId, page, limit }","{ versions:[], totalCount }",prompts:read,401/403,tRPC: prompts.allVersions
공통(소스+F12),그래프 해석,GET,/prompts/:id/graph,"{ projectId, promptId }","{ resolvedPrompt, graph }",prompts:read,401/403,tRPC: prompts.resolvePromptGraph
소스코드 전용,단건 조회(이름 기준),GET,/prompts/{promptName},version?(number) 또는 label?(string),Prompt(해당 버전 1건),인증/레이트리밋,"400(version+label 동시), 404, 401/403, 429",기본 production 라벨
소스코드 전용,메타 집계 조회 A,GET,/prompts,"GetPromptsMetaSchema(namespace?, tags?, labels? 등)","{ total, namespaces[], tags[], labels[] }",인증/레이트리밋,400/401/403/429,목록이 아닌 메타
소스코드 전용,메타 집계 조회 B,GET,/prompts,"page, limit, name?, version?, label?, tag?, fromUpdatedAt?, toUpdatedAt?","{ data:[{ name, versions[], labels[], tags[], lastUpdatedAt, lastConfig }], meta, pagination }",인증/레이트리밋,400/401/403/429,meta+pagination 동시 제공(하위호환)
소스코드 전용,버전 라벨 추가(Union),PATCH,/prompts/{promptName}/versions/{promptVersion},{ newLabels: string[] },Prompt(해당 버전),인증 필요,"404, 400(정책 위반), (의존성 제거 시도 시) 400","치환 아님, 유일성 위해 타 버전 동일 라벨 제거"
소스코드 전용,버전 라벨 치환,PATCH,/prompts/{promptName}/versions/{promptVersion},{ newLabels: string[] },Prompt(해당 버전),인증/‘latest’ 금지,"400(latest 포함 등), 404, 403",치환 vs 추가(Union) 구분 필요 (tRPC setLabels 권장)
소스코드 전용,byId 조회,GET,/prompts/byId/:id,"{ projectId, id }",Prompt,prompts:read,404,F12 샘플엔 미노출
소스코드 전용,보호 라벨 목록,GET,/internal/prompts/protected-labels,{ projectId },string[],prompts:read + prompt-protected-labels,401/403,tRPC 기반 내부 기능
소스코드 전용,보호 라벨 추가,POST,/internal/prompts/protected-labels,"{ projectId, label }","{ id, projectId, label }",promptProtectedLabels:CUD + prompt-protected-labels,"400(""latest"" 금지), 401/403",
소스코드 전용,보호 라벨 제거,DELETE,/internal/prompts/protected-labels/{label},{ projectId },{ success:true },위와 동일,"404, 401/403",
F12 전용,세션,GET,/api/auth/session,헤더: next-auth 토큰들,사용자 세션(이름/이메일/조직 등),로그인 필요,-,인증 계층
F12 전용,마이그레이션 상태,GET,/api/trpc/backgroundMigrations.status,{},{ status },-,-,운영 상태 체크
F12 전용,업데이트 체크,GET,/api/trpc/public.checkUpdate,{},"{ updateType, currentVersion, latestRelease, url }",-,-,제품 업데이트 알림
F12 전용,LLM 키 목록,GET,/api/trpc/llmApiKey.all,{ projectId },키 목록,권한 필요,-,프롬프트 외 부가
F12 전용,코멘트 수,GET,/api/trpc/comments.getCountByObjectId,"{ projectId, objectId, objectType:""PROMPT"" }",{ count },권한,-,UI 배지용
F12 전용,테이블 프리셋,GET,/api/trpc/TableViewPresets.getByTableName,"{ tableName, projectId }",프리셋,권한,-,UX 저장값
F12 전용,오토메이션 목록/상세/실행/생성/수정/삭제,GET/POST,/api/trpc/automations.*,다양한 페이로드,자동화 설정/실행 이력,권한,404(삭제 후 조회) 등,프롬프트 변동 웹훅과 연동
F12 전용,생성/조회(Generations) 목록·카운트·필터,GET,/api/trpc/generations.*,복합 필터,목록/카운트/옵션,권한,-,Observations/연결 화면
