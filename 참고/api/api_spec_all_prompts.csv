API 이름,사용자 행동(UX),Method,Endpoint,Path Params,Query Params,필수 헤더,요청 스키마(필드:타입:필수:제약),성공 응답 핵심 필드,페이지네이션/정렬,에러 케이스(상태:언제:메시지),부작용/도메인 규칙,UI 매핑(컴포넌트/화면),상태 UX(loading/empty/error),검증 시나리오(Postman),네트워크 관찰 메모(2일차),오픈 질문(2–4일차),책임자(A/B),우선순위,현재상태
List Prompts Meta (public),목록 화면 첫 로드/검색/필터,GET,/api/public/v2/prompts,-,"name?,version?,label?,tag?,fromUpdatedAt?,toUpdatedAt?,page(1..),limit(1..100)",Authorization: Basic <public_key:secret_key (base64)>,Query: name:string?; version:number?; label:string?; tag:string?; fromUpdatedAt:ISODate?; toUpdatedAt:ISODate?; page:int>=1; limit:int>0,"data[].{name,versions[],labels[],tags[],lastUpdatedAt,lastConfig}; meta.{page,limit,totalPages,totalItems}","server offset LIMIT/OFFSET (page,limit); 정렬은 name ASC 고정",401: 키없음; 403: accessLevel≠project; 429: rate-limit; 400: 잘못된 파라미터,캐시 조회 아님(직접 SQL 집계),PromptTable 목록 상단/페이징,스켈레톤→빈 상태 문구→에러 토스트,"유효/무효 필터 조합, 페이지 증가 시 중복/누락 확인, from/toUpdatedAt 경계값",large project에서 limit=50 기준 응답 크기 점검,정렬 커스텀 필요 여부,A,P1,done
Create Prompt (public),새 프롬프트 생성/새 버전 저장,POST,/api/public/v2/prompts,-,-,Authorization: Basic <public_key:secret_key (base64)>; Content-Type: application/json,"name:string; type:""text""|""chat""; prompt:string|ChatMessage[]; labels:string[]; config:object(default {}); tags:string[]?; commitMessage:string<=1024?","{id,name,version,type,prompt,labels[],tags[],config,createdBy:""API""}",-,400: type 변경 충돌/변수-플레이스홀더 충돌; 409: P2002 동시생성; 401/403/429 동일,항상 latest 라벨 자동 부여; 동일 이름 이전 버전의 동일 라벨 제거; 모든 버전 태그 동기화; Redis 락→캐시 무효화→TX→락해제→웹훅,NewPromptForm 제출,"버튼 loading, 에러 메시지 표시",동시에 같은 name으로 5회 POST→409 확인; Chat 변숫명/플레이스홀더 충돌 케이스,commitMessage 길이 초과 시 400,protected label 포함 생성 허용? (현재 불가),A,P1,done
Get Prompt By Name (public),상세 화면/SDK 호출,GET,/api/public/v2/prompts/{promptName},promptName,"version?:number, label?:string (동시 사용 불가; 기본 ""production"")",Authorization: Basic <public_key:secret_key (base64)>,-,"{id,name,version,type,prompt,labels[],config,tags[]}",-,404: prompt 또는 해당 version/label 없음; 400: version & label 동시 지정,PromptService 캐시 사용 (redis key=prompt:<pid>:<name>:(v|label)),PromptDetail 초기 로드,Loading 문구/404 안내,label=production 기본 동작 확인; 캐시 miss 후 hit 검사,TTL 연장 확인,대소문자 구분 정책,A,P1,done
Update Prompt Labels (public),버전 라벨 편집,PATCH,/api/public/v2/prompts/{promptName}/versions/{promptVersion},"promptName, promptVersion",-,Authorization: Basic <public_key:secret_key (base64)>; Content-Type: application/json,body: {newLabels:string[]} (latest 금지),업데이트된 Prompt 전체,-,409: 의존성 있는 라벨 제거 시; 400: latest 포함; 404: 버전 없음; 401/403/429,동일 라벨은 프롬프트 내 유일해야 함→기존 버전에서 제거; 캐시 락/무효화; 웹훅 발송,SetPromptVersionLabels,Popover 내부 로딩/에러 토스트,의존 라벨 제거 시 409 메시지 목록 확인,트랜잭션 락(FOR UPDATE) 확인,라벨 대량 변경 성능,B,P1,done
List Prompts (trpc),목록 화면 데이터,POST,trpc.prompts.all,-,-,Cookie: session; x-trpc-source: webapp,"{projectId:string, page:int, limit:int, filter:FilterState[], orderBy:{column,order}, pathPrefix?:string, searchQuery?:string, searchType?:(""id""|""content"")[]}","{prompts: Prompt[], totalCount:number} (폴더 대표 포함)",limit/page/ORDER BY; folder 먼저 정렬,403: prompts:read 권한 없음,폴더 가상행 생성 로직 FE에서 처리,PromptTable,DataTable 스켈레톤,(TRPC 콘솔) pathPrefix별 응답 변형 확인,쿼리 RAW SQL 성능 포인트,search full-text 확장 여부,B,P1,done
prompts.count,GET count for filters,POST,trpc.prompts.count,-,-,Cookie: session; x-trpc-source: webapp,"{projectId,searchQuery?,searchType?,pathPrefix?,filter?}",{totalCount},see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.metrics,Usage metrics,POST,trpc.prompts.metrics,-,-,Cookie: session; x-trpc-source: webapp,"{projectId,promptNames[]}","[{promptName,observationCount}]",see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.byId,Get prompt by id,POST,trpc.prompts.byId,-,-,Cookie: session; x-trpc-source: webapp,"{projectId,id}",Prompt,see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.create,Create prompt,POST,trpc.prompts.create,-,-,Cookie: session; x-trpc-source: webapp,CreatePromptTRPCSchema,Prompt (+auditLog),see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.duplicatePrompt,Duplicate,POST,trpc.prompts.duplicatePrompt,-,-,Cookie: session; x-trpc-source: webapp,"{projectId,promptId,name,isSingleVersion}",Prompt,see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.filterOptions,Filters,POST,trpc.prompts.filterOptions,-,-,Cookie: session; x-trpc-source: webapp,{projectId},"{name[],labels[],tags[]}",see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.delete,Delete prompt,POST,trpc.prompts.delete,-,-,Cookie: session; x-trpc-source: webapp,"{projectId,promptName}",void,see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.deleteVersion,Delete version,POST,trpc.prompts.deleteVersion,-,-,Cookie: session; x-trpc-source: webapp,"{promptVersionId,projectId}",void,see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.setLabels,Set labels,POST,trpc.prompts.setLabels,-,-,Cookie: session; x-trpc-source: webapp,"{promptId,projectId,labels[]}",updated prompts (webhooks),see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.allLabels,All labels,POST,trpc.prompts.allLabels,-,-,Cookie: session; x-trpc-source: webapp,{projectId},string[],see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.allNames,All names,POST,trpc.prompts.allNames,-,-,Cookie: session; x-trpc-source: webapp,"{projectId,type?}","{id,name}[]",see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.getPromptLinkOptions,Link options,POST,trpc.prompts.getPromptLinkOptions,-,-,Cookie: session; x-trpc-source: webapp,{projectId},"[{name,versions[],labels[]}]",see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.updateTags,Update tags,POST,trpc.prompts.updateTags,-,-,Cookie: session; x-trpc-source: webapp,"{projectId,name,tags[]}",void,see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.allPromptMeta,All meta,POST,trpc.prompts.allPromptMeta,-,-,Cookie: session; x-trpc-source: webapp,{projectId},"[{id,name,version,type,prompt}]",see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.allVersions,All versions,POST,trpc.prompts.allVersions,-,-,Cookie: session; x-trpc-source: webapp,"{projectId,name,limit?,page?}","{promptVersions[], totalCount} (+creator)",see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.versionMetrics,Version metrics,POST,trpc.prompts.versionMetrics,-,-,Cookie: session; x-trpc-source: webapp,"{projectId,promptIds[]}","[{id,observationCount,...scores}]",see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.resolvePromptGraph,Resolve graph,POST,trpc.prompts.resolvePromptGraph,-,-,Cookie: session; x-trpc-source: webapp,"{projectId,promptId}","{graph,resolvedPrompt}",see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.getProtectedLabels,Get protected labels,POST,trpc.prompts.getProtectedLabels,-,-,Cookie: session; x-trpc-source: webapp,{projectId},string[],see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.addProtectedLabel,Add protected label,POST,trpc.prompts.addProtectedLabel,-,-,Cookie: session; x-trpc-source: webapp,"{projectId,label}",PromptProtectedLabel,see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
prompts.removeProtectedLabel,Remove protected label,POST,trpc.prompts.removeProtectedLabel,-,-,Cookie: session; x-trpc-source: webapp,"{projectId,label}",{success:true},see endpoint,403 on scope mismatch; 409 when deps/labels conflict where applicable,모두 auditLog/캐시 무효화/웹훅 적용 지점 있음,PromptTable/PromptDetail/Dialogs,버튼 로딩/토스트,TRPC devtools or direct HTTP RPC payloads,-,-,B,P2,done
